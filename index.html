<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Glasgow Roads Map</title>
    <!-- Leaflet CSS for map rendering -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
     integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
     crossorigin=""/>
    <!-- Leaflet JavaScript library -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
     integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
     crossorigin=""></script>
    <!-- Tailwind CSS for styling UI elements -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Ensures the map and page fill the entire screen without scrolling */
        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
            overflow: hidden;
            font-family: 'Inter', sans-serif;
        }
        /* The container for the Leaflet map */
        #map { 
            height: 100%; 
            width: 100%;
        }
        /* Container for the road closure table overlay */
        #table-container {
            position: absolute;
            top: 20px;
            left: 20px;
            z-index: 1000; /* Ensures table is on top of the map */
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            max-height: 85vh; /* Limit height to 85% of the viewport height */
            overflow-y: auto; /* Allow scrolling within the table container */
            width: 500px;
            max-width: 90%;
        }
        /* Styling for table cells */
        #roads-table th, #roads-table td {
            padding: 8px 15px;
            text-align: left;
            white-space: normal; /* Allow text to wrap */
        }
        /* Makes the table header sticky during vertical scroll */
        #roads-table thead {
            position: sticky;
            top: 0;
            background-color: #f9fafb; /* A light grey background for the header */
        }
        /* Highlight table rows on hover for better user feedback */
        #roads-table tbody tr:hover {
            background-color: #f0f4f8 !important; /* Use important to override inline styles */
            cursor: pointer;
        }
        .timeslot-btn {
            padding: 8px 12px;
            border-radius: 6px;
            border: 1px solid #d1d5db;
            background-color: white;
            color: #374151;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease-in-out;
            display: flex;
            align-items: center;
        }
        .timeslot-btn:hover {
            background-color: #f9fafb;
        }
        .timeslot-btn.active {
            background-color: #3b82f6;
            color: white;
            border-color: #3b82f6;
        }
        .color-swatch {
            width: 1rem;
            height: 1rem;
            border-radius: 0.25rem;
            margin-right: 0.5rem;
            border: 1px solid rgba(0,0,0,0.1);
        }

        /* --- Base Mobile Styles (for both orientations) --- */
        @media (max-width: 767px) {
            #table-container {
                display: none; /* Hidden by default on mobile */
                width: calc(100% - 2rem);
                max-width: none;
                left: 1rem;
            }
            #table-container.shown {
                display: block;
            }
            #roads-table th, #roads-table td {
                padding: 6px 10px;
                font-size: 0.8rem;
            }
            .timeslot-btn {
                flex-shrink: 0; /* Prevent buttons from shrinking */
            }
        }

        /* --- Portrait-Specific Mobile Styles --- */
        @media (max-width: 767px) and (orientation: portrait) {
            #table-container {
                top: 4.5rem;
                max-height: 45vh;
            }
            #timeslot-controls {
                bottom: 1rem;
                left: 50%;
                transform: translateX(-50%);
                top: auto;
                right: auto;
                flex-direction: row;
                gap: 0.5rem;
                width: auto;
                max-width: calc(100% - 2rem);
                overflow-x: auto;
                padding: 0.5rem;
                white-space: nowrap;
            }
        }

        /* --- Landscape-Specific Mobile Styles --- */
        @media (max-height: 500px) and (orientation: landscape) {
            #table-container {
                top: 1rem;
                width: 300px;
                max-height: calc(100vh - 2rem);
            }
            #table-container.shown {
                top: 4.5rem;
                max-height: calc(100vh - 5.5rem);
            }
            #timeslot-controls {
                top: 1rem;
                right: 1rem;
                bottom: auto;
                left: auto;
                transform: none;
                flex-direction: column;
                width: auto;
                max-width: none;
                overflow-x: visible;
                padding: 0.75rem;
            }
            #toggle-table-btn {
                top: 1rem;
                left: 1rem;
            }
        }
    </style>
</head>
<body class="m-0 p-0">

    <!-- Toggle button for the table on mobile -->
    <button id="toggle-table-btn" class="md:hidden absolute top-4 left-4 z-[1001] bg-white p-2 rounded-lg shadow-lg text-gray-700">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
        </svg>
        <span class="sr-only">Toggle List</span>
    </button>

    <!-- The DIV element where the map will be rendered -->
    <div id="map"></div>

    <!-- The DIV element for the interactive table overlay -->
    <div id="table-container">
        <table id="roads-table" class="w-full text-sm text-left text-gray-600">
            <thead class="text-xs text-gray-700 uppercase bg-gray-50">
                <tr>
                    <th scope="col" class="py-3 px-6">Road Closure</th>
                    <th scope="col" class="py-3 px-6">From</th>
                    <th scope="col" class="py-3 px-6">To</th>
                </tr>
            </thead>
            <tbody>
                <!-- Road closure data will be dynamically inserted here by JavaScript -->
            </tbody>
        </table>
    </div>
    
    <!-- UI Controls for filtering time slots and toggling the route -->
    <div id="timeslot-controls" class="absolute top-4 right-4 z-[1000] bg-white p-3 rounded-lg shadow-lg flex flex-col space-y-2">
        <button data-timeslot="all" class="timeslot-btn active">All Closures</button>
        <button data-timeslot="t1" class="timeslot-btn"><span class="color-swatch" style="background-color: #FFBF00;"></span>04:00 - 15:00</button>
        <button data-timeslot="t2" class="timeslot-btn"><span class="color-swatch" style="background-color: #00A86B;"></span>06:30 - 16:30</button>
        <button data-timeslot="t3" class="timeslot-btn"><span class="color-swatch" style="background-color: #0056B3;"></span>06:30 - 16:00</button>
        <button data-timeslot="t4" class="timeslot-btn"><span class="color-swatch" style="background-color: #DE3163;"></span>04:00 - 17:15</button>
        <hr class="my-1 border-gray-200"> <!-- Visual separator -->
        <button id="toggle-route-btn" class="timeslot-btn active">
            <span class="color-swatch" style="background-color: #800080;"></span>Toggle Cycle Route
        </button>
    </div>


    <script>
        // --- 1. Map Initialization ---
        const map = L.map('map').setView([55.8642, -4.2518], 13);
        // Use a standard road map tile layer
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
        }).addTo(map);

        // --- 2. Data Definition ---
        const timeslotConfig = {
            t1: { label: '04:00 - 15:00', color: '#FFBF00' }, // Amber
            t2: { label: '06:30 - 16:30', color: '#00A86B' }, // Jade Green
            t3: { label: '06:30 - 16:00', color: '#0056B3' }, // Cobalt Blue
            t4: { label: '04:00 - 17:15', color: '#DE3163' }  // Cerise Pink
        };
        
        const allRoadData = [
            { name: 'Great Scottish Run 2025 Route', from: 'George Square', to: 'Glasgow Green', color: '#800080', coords: [[55.86253,-4.265753],[55.862541,-4.265848],[55.862553,-4.265964],[55.862713,-4.267428],[55.862812,-4.268246],[55.862824,-4.268343],[55.862831,-4.268405],[55.862849,-4.268579],[55.862834,-4.268833],[55.862869,-4.269445],[55.862906,-4.269609],[55.862924,-4.269945],[55.862928,-4.270001],[55.862935,-4.270129],[55.862939,-4.270195],[55.862998,-4.270681],[55.863006,-4.270743],[55.863002,-4.270821],[55.863008,-4.270961],[55.863051,-4.271265],[55.863073,-4.271569],[55.863068,-4.272029],[55.863108,-4.27227],[55.863108,-4.272362],[55.863084,-4.273888],[55.863083,-4.273975],[55.863063,-4.275232],[55.863063,-4.275284],[55.863061,-4.275388],[55.863059,-4.275558],[55.863043,-4.276745],[55.863018,-4.278095],[55.86301,-4.278398],[55.86301,-4.278663],[55.863024,-4.27878],[55.863282,-4.279632],[55.863373,-4.279923],[55.863502,-4.280336],[55.86336,-4.280363],[55.863183,-4.280398],[55.862991,-4.28043],[55.862837,-4.280454],[55.862687,-4.280489],[55.862441,-4.280547],[55.862182,-4.280605],[55.862108,-4.28062],[55.861819,-4.280699],[55.861684,-4.280736],[55.861574,-4.280766],[55.861478,-4.280793],[55.860914,-4.280911],[55.860752,-4.280895],[55.860719,-4.2809],[55.860597,-4.28094],[55.86056,-4.280802],[55.860411,-4.28012],[55.860321,-4.279606],[55.860283,-4.279328],[55.860241,-4.278234],[55.86025,-4.27705],[55.860262,-4.276709],[55.860309,-4.275359],[55.860312,-4.274104],[55.8603,-4.27363],[55.860281,-4.273279],[55.860255,-4.272758],[55.860182,-4.271913],[55.860141,-4.271521],[55.860092,-4.271145],[55.860064,-4.270958],[55.860039,-4.270783],[55.859995,-4.270529],[55.859955,-4.270347],[55.859883,-4.270122],[55.85984,-4.270025],[55.859781,-4.269909],[55.859686,-4.269758],[55.85954,-4.26961],[55.859425,-4.26953],[55.859354,-4.269501],[55.859231,-4.269476],[55.859183,-4.269476],[55.859046,-4.269499],[55.858994,-4.269517],[55.858818,-4.269596],[55.858542,-4.269718],[55.858441,-4.269755],[55.858284,-4.26979],[55.858073,-4.269826],[55.856671,-4.269988],[55.85653,-4.269986],[55.856027,-4.270007],[55.855107,-4.270043],[55.854715,-4.27005],[55.854285,-4.270094],[55.854163,-4.270121],[55.853828,-4.270233],[55.853146,-4.270322],[55.853054,-4.270316],[55.852984,-4.2703],[55.852854,-4.270253],[55.852711,-4.270157],[55.852652,-4.270103],[55.852485,-4.269869],[55.852423,-4.26977],[55.852313,-4.269546],[55.852229,-4.269328],[55.852199,-4.269215],[55.852146,-4.26896],[55.852126,-4.268792],[55.852032,-4.267585],[55.852003,-4.267146],[55.852002,-4.266973],[55.852008,-4.266826],[55.852055,-4.266543],[55.852091,-4.266396],[55.852136,-4.266166],[55.852151,-4.265961],[55.852139,-4.265672],[55.85214,-4.265543],[55.85211,-4.265211],[55.851668,-4.265355],[55.851225,-4.265499],[55.850926,-4.265596],[55.850488,-4.265771],[55.850049,-4.265946],[55.849735,-4.266072],[55.849689,-4.26614],[55.849675,-4.266205],[55.849675,-4.266421],[55.849704,-4.266694],[55.849776,-4.267383],[55.849783,-4.267447],[55.849936,-4.26875],[55.849917,-4.269644],[55.849907,-4.269956],[55.849906,-4.270196],[55.849901,-4.270453],[55.849897,-4.270661],[55.849896,-4.27077],[55.849887,-4.271535],[55.849886,-4.271589],[55.849884,-4.271776],[55.849875,-4.272563],[55.84987,-4.273199],[55.849855,-4.274645],[55.849846,-4.275511],[55.849806,-4.27608],[55.8498,-4.276164],[55.849789,-4.27634],[55.849776,-4.276451],[55.849758,-4.276795],[55.849758,-4.277062],[55.849758,-4.277143],[55.849767,-4.277515],[55.84977,-4.277654],[55.849748,-4.277794],[55.849742,-4.277856],[55.849766,-4.277936],[55.849806,-4.278],[55.849849,-4.278043],[55.849887,-4.278062],[55.850181,-4.278062],[55.85032,-4.27802],[55.850417,-4.277945],[55.850501,-4.277836],[55.850699,-4.277641],[55.850909,-4.277544],[55.851053,-4.277533],[55.85162,-4.277476],[55.851733,-4.277465],[55.851825,-4.277455],[55.851874,-4.277449],[55.852246,-4.277408],[55.852709,-4.277357],[55.853156,-4.277268],[55.853512,-4.277225],[55.853685,-4.277204],[55.853704,-4.278496],[55.853677,-4.278999],[55.853607,-4.27981],[55.853598,-4.279878],[55.853553,-4.280218],[55.853509,-4.2805],[55.853391,-4.28125],[55.85336,-4.281449],[55.853284,-4.281938],[55.853158,-4.282707],[55.853109,-4.282981],[55.853007,-4.283546],[55.852893,-4.284181],[55.852815,-4.284619],[55.852771,-4.284878],[55.852723,-4.285161],[55.852629,-4.285795],[55.85257,-4.286322],[55.852479,-4.287054],[55.852423,-4.287583],[55.852335,-4.288513],[55.852297,-4.288947],[55.852232,-4.289741],[55.852138,-4.290858],[55.852093,-4.291405],[55.852002,-4.292533],[55.85192,-4.293521],[55.851881,-4.293999],[55.851868,-4.29415],[55.851747,-4.295558],[55.851635,-4.296524],[55.851586,-4.296851],[55.851444,-4.297705],[55.851374,-4.298145],[55.851323,-4.298477],[55.851141,-4.299571],[55.851069,-4.299796],[55.851012,-4.300166],[55.850981,-4.300366],[55.850819,-4.301456],[55.85079,-4.301754],[55.850604,-4.303504],[55.850577,-4.303791],[55.850565,-4.303918],[55.850521,-4.304376],[55.850448,-4.305206],[55.850384,-4.305915],[55.850315,-4.306675],[55.85021,-4.307832],[55.850181,-4.308138],[55.850131,-4.308661],[55.850067,-4.309101],[55.849985,-4.309578],[55.849823,-4.310493],[55.849773,-4.310559],[55.849715,-4.310616],[55.849659,-4.310655],[55.849563,-4.310693],[55.849359,-4.310455],[55.849232,-4.310309],[55.848998,-4.310045],[55.848711,-4.30979],[55.848657,-4.309743],[55.848592,-4.309685],[55.848516,-4.309628],[55.848361,-4.309517],[55.848251,-4.309461],[55.848143,-4.309423],[55.847937,-4.30941],[55.847745,-4.309517],[55.847426,-4.309871],[55.84708,-4.310215],[55.846963,-4.31029],[55.846805,-4.310265],[55.846567,-4.310204],[55.846161,-4.31009],[55.845537,-4.31009],[55.845234,-4.309852],[55.845001,-4.309794],[55.844705,-4.309709],[55.844588,-4.309643],[55.844471,-4.309571],[55.844292,-4.30946],[55.844226,-4.309421],[55.843523,-4.309013],[55.843417,-4.308963],[55.843291,-4.308904],[55.843242,-4.308896],[55.842944,-4.308886],[55.842514,-4.308968],[55.842382,-4.309],[55.841769,-4.309002],[55.84161,-4.308961],[55.841547,-4.308931],[55.841381,-4.308861],[55.841083,-4.30867],[55.840987,-4.30863],[55.84086,-4.308596],[55.840833,-4.308589],[55.840644,-4.308638],[55.84051,-4.308678],[55.839957,-4.308792],[55.839804,-4.308807],[55.839642,-4.30879],[55.839504,-4.308743],[55.839405,-4.308696],[55.83934,-4.308656],[55.839247,-4.308576],[55.839151,-4.308495],[55.839104,-4.308447],[55.838893,-4.308171],[55.83883,-4.308081],[55.838723,-4.307892],[55.838641,-4.307733],[55.838553,-4.307558],[55.838438,-4.307266],[55.838287,-4.306854],[55.838077,-4.305799],[55.837922,-4.305186],[55.837744,-4.304711],[55.837566,-4.304359],[55.837375,-4.304066],[55.837196,-4.303759],[55.836944,-4.303287],[55.836665,-4.302663],[55.836429,-4.301993],[55.836185,-4.301394],[55.835931,-4.300893],[55.835571,-4.30022],[55.835283,-4.299531],[55.835143,-4.299103],[55.834952,-4.298428],[55.834845,-4.298002],[55.834736,-4.297322],[55.834713,-4.297171],[55.834685,-4.29706],[55.834577,-4.296861],[55.834476,-4.29675],[55.834031,-4.296467],[55.833613,-4.296263],[55.833329,-4.296141],[55.833044,-4.296039],[55.832747,-4.295947],[55.832572,-4.295905],[55.832254,-4.295868],[55.831541,-4.295835],[55.831501,-4.295833],[55.831266,-4.295822],[55.831234,-4.295944],[55.831233,-4.296026],[55.831398,-4.296983],[55.831769,-4.298862],[55.831838,-4.299211],[55.831856,-4.299379],[55.831864,-4.299508],[55.831863,-4.299606],[55.831858,-4.299692],[55.831831,-4.29983],[55.831118,-4.301475],[55.830973,-4.301809],[55.83073,-4.302714],[55.830601,-4.303202],[55.830471,-4.303698],[55.830363,-4.304109],[55.830323,-4.304241],[55.830274,-4.304352],[55.830235,-4.304412],[55.830057,-4.304504],[55.82998,-4.304562],[55.829931,-4.304628],[55.829847,-4.30474],[55.829864,-4.304795],[55.829869,-4.304854],[55.829872,-4.305468],[55.829872,-4.305548],[55.829877,-4.306151],[55.829878,-4.306331],[55.82988,-4.307032],[55.829881,-4.307289],[55.829885,-4.307915],[55.829885,-4.308122],[55.829887,-4.308371],[55.829889,-4.308867],[55.829904,-4.309803],[55.829893,-4.309953],[55.829842,-4.310255],[55.829819,-4.310318],[55.829746,-4.310489],[55.829715,-4.310531],[55.829671,-4.310567],[55.82949,-4.310615],[55.829418,-4.310645],[55.829359,-4.310673],[55.828772,-4.310949],[55.82867,-4.311036],[55.82867,-4.311819],[55.828677,-4.312478],[55.828688,-4.313475],[55.828694,-4.314101],[55.8287,-4.314639],[55.828701,-4.314805],[55.828702,-4.315602],[55.828701,-4.316537],[55.828683,-4.316823],[55.82867,-4.31705],[55.828644,-4.317418],[55.828643,-4.317541],[55.828746,-4.31775],[55.828914,-4.318006],[55.829343,-4.318719],[55.829382,-4.318756],[55.829472,-4.318806],[55.829519,-4.318816],[55.829637,-4.3188],[55.829789,-4.318713],[55.829858,-4.318652],[55.830259,-4.318272],[55.830677,-4.317439],[55.831353,-4.31555],[55.831501,-4.315049],[55.831743,-4.314358],[55.831815,-4.314162],[55.831881,-4.314029],[55.831921,-4.313947],[55.832,-4.313878],[55.832064,-4.31384],[55.832141,-4.313849],[55.832233,-4.313823],[55.832346,-4.313883],[55.832425,-4.313957],[55.832587,-4.314052],[55.832938,-4.314176],[55.833131,-4.314187],[55.83336,-4.31413],[55.833625,-4.313954],[55.833846,-4.313743],[55.833974,-4.313549],[55.834221,-4.313132],[55.834547,-4.312558],[55.834727,-4.312208],[55.834865,-4.311819],[55.834938,-4.311482],[55.83499,-4.311185],[55.835051,-4.310555],[55.835124,-4.309551],[55.835164,-4.309085],[55.83517,-4.308859],[55.835162,-4.308469],[55.835142,-4.308145],[55.835116,-4.307934],[55.835089,-4.30765],[55.83502,-4.307092],[55.835,-4.306928],[55.83492,-4.306083],[55.834873,-4.305449],[55.834669,-4.303814],[55.834508,-4.302149],[55.834449,-4.301841],[55.834392,-4.301599],[55.834347,-4.301463],[55.834251,-4.301222],[55.834162,-4.301025],[55.834123,-4.300976],[55.834066,-4.300938],[55.834008,-4.299641],[55.834004,-4.299561],[55.833992,-4.299134],[55.834037,-4.298639],[55.834097,-4.298294],[55.834168,-4.298045],[55.834222,-4.297854],[55.834378,-4.297527],[55.834508,-4.297297],[55.834583,-4.297185],[55.83465,-4.297427],[55.834845,-4.298002],[55.834952,-4.298428],[55.835143,-4.299103],[55.835283,-4.299531],[55.835571,-4.30022],[55.835931,-4.300893],[55.836185,-4.301394],[55.836429,-4.301993],[55.836665,-4.302663],[55.836944,-4.303287],[55.837196,-4.303759],[55.837375,-4.304066],[55.837566,-4.304359],[55.837744,-4.304711],[55.837922,-4.305186],[55.838077,-4.305799],[55.838287,-4.306854],[55.838339,-4.307124],[55.83844,-4.307558],[55.838528,-4.307836],[55.838583,-4.307966],[55.838634,-4.308067],[55.838724,-4.308237],[55.838904,-4.308522],[55.838979,-4.308614],[55.839098,-4.308744],[55.839196,-4.308824],[55.839308,-4.3089],[55.839366,-4.308932],[55.839419,-4.30896],[55.839564,-4.309005],[55.839667,-4.309013],[55.839766,-4.309007],[55.839964,-4.308961],[55.840489,-4.308844],[55.840595,-4.308821],[55.840769,-4.308806],[55.840991,-4.308833],[55.841054,-4.308861],[55.841218,-4.308969],[55.841278,-4.30907],[55.841309,-4.309172],[55.841316,-4.309296],[55.841152,-4.310536],[55.841124,-4.31095],[55.841115,-4.311039],[55.841095,-4.311266],[55.841024,-4.312061],[55.840961,-4.312797],[55.840925,-4.314254],[55.840933,-4.314784],[55.841152,-4.318073],[55.840933,-4.314784],[55.840925,-4.314254],[55.840961,-4.312797],[55.841024,-4.312061],[55.841095,-4.311266],[55.841124,-4.31095],[55.841152,-4.310536],[55.84131,-4.309828],[55.841382,-4.309444],[55.841414,-4.309258],[55.841444,-4.309074],[55.841583,-4.309143],[55.841723,-4.309146],[55.842382,-4.309],[55.842514,-4.308968],[55.842944,-4.308886],[55.843242,-4.308896],[55.843291,-4.308904],[55.843417,-4.308963],[55.843523,-4.309013],[55.844226,-4.309421],[55.844292,-4.30946],[55.844453,-4.309559],[55.844588,-4.309643],[55.844679,-4.309701],[55.845001,-4.309794],[55.845537,-4.309927],[55.845865,-4.310013],[55.846161,-4.31009],[55.846567,-4.310204],[55.846805,-4.310265],[55.846963,-4.31029],[55.84708,-4.310215],[55.847426,-4.309871],[55.848007,-4.309626],[55.848212,-4.309685],[55.848323,-4.309705],[55.848387,-4.309716],[55.84853,-4.309822],[55.848661,-4.309933],[55.848714,-4.309981],[55.848892,-4.310143],[55.84925,-4.31054],[55.849634,-4.310944],[55.849728,-4.311041],[55.849813,-4.311124],[55.849838,-4.310982],[55.849868,-4.31076],[55.850029,-4.309878],[55.850092,-4.309532],[55.850107,-4.309432],[55.850161,-4.309074],[55.850347,-4.307158],[55.85039,-4.306686],[55.85046,-4.305922],[55.85052,-4.305225],[55.850638,-4.303941],[55.850717,-4.303172],[55.850798,-4.30226],[55.850861,-4.301673],[55.850878,-4.301485],[55.851019,-4.300573],[55.851077,-4.3002],[55.851134,-4.299838],[55.851141,-4.299571],[55.851323,-4.298477],[55.851374,-4.298145],[55.851444,-4.297705],[55.851586,-4.296851],[55.851635,-4.296524],[55.851747,-4.295558],[55.851868,-4.29415],[55.851881,-4.293999],[55.852002,-4.292533],[55.852093,-4.291405],[55.852138,-4.290858],[55.852232,-4.289741],[55.853252,-4.289548],[55.85344,-4.28952],[55.853624,-4.289491],[55.853649,-4.289119],[55.853695,-4.288921],[55.853754,-4.288733],[55.853797,-4.288633],[55.853887,-4.288471],[55.853992,-4.288345],[55.854077,-4.288265],[55.85419,-4.288199],[55.854291,-4.288162],[55.85439,-4.288145],[55.854479,-4.288129],[55.854825,-4.288053],[55.855031,-4.288008],[55.855185,-4.288011],[55.85546,-4.287969],[55.85556,-4.287954],[55.855823,-4.287899],[55.856224,-4.287762],[55.856347,-4.287636],[55.856383,-4.287586],[55.856427,-4.287478],[55.856508,-4.287319],[55.856457,-4.286998],[55.856418,-4.286743],[55.856343,-4.286382],[55.856254,-4.285951],[55.85621,-4.285756],[55.856118,-4.285323],[55.856078,-4.285138],[55.856157,-4.284947],[55.856264,-4.284661],[55.85632,-4.284535],[55.856518,-4.284139],[55.856576,-4.284016],[55.857001,-4.283044],[55.857441,-4.282037],[55.857545,-4.281854],[55.857647,-4.28173],[55.857723,-4.281644],[55.857806,-4.28163],[55.857773,-4.281444],[55.857764,-4.281394],[55.857732,-4.281193],[55.857581,-4.280278],[55.857547,-4.280068],[55.85747,-4.27957],[55.857416,-4.279217],[55.857392,-4.279031],[55.857373,-4.278849],[55.857364,-4.278661],[55.857361,-4.278592],[55.857347,-4.278261],[55.857191,-4.276729],[55.857116,-4.275943],[55.85707,-4.275521],[55.85703,-4.275234],[55.857022,-4.275178],[55.857014,-4.275127],[55.856944,-4.274665],[55.85686,-4.274121],[55.856851,-4.274057],[55.856835,-4.273949],[55.856802,-4.273562],[55.856792,-4.273354],[55.856788,-4.273262],[55.856782,-4.273159],[55.856728,-4.272221],[55.85672,-4.271929],[55.856732,-4.271247],[55.856763,-4.271043],[55.856773,-4.270617],[55.856775,-4.27052],[55.856777,-4.270431],[55.856784,-4.27],[55.856785,-4.26991],[55.856786,-4.269482],[55.856751,-4.269118],[55.856746,-4.268852],[55.856742,-4.268619],[55.856728,-4.267798],[55.856739,-4.267248],[55.856809,-4.26621],[55.856868,-4.265336],[55.856872,-4.265276],[55.856876,-4.265216],[55.856881,-4.265146],[55.856916,-4.264489],[55.856925,-4.264332],[55.856938,-4.264105],[55.856943,-4.263909],[55.856941,-4.263589],[55.856935,-4.263471],[55.856891,-4.263076],[55.856884,-4.263019],[55.856864,-4.262827],[55.85684,-4.262616],[55.856775,-4.262126],[55.856709,-4.261534],[55.856686,-4.261251],[55.856671,-4.261052],[55.856631,-4.26008],[55.856629,-4.259931],[55.856623,-4.25973],[55.856568,-4.259732],[55.856522,-4.259732],[55.856434,-4.259736],[55.856347,-4.259734],[55.85515,-4.259752],[55.854945,-4.259755],[55.854895,-4.259757],[55.854771,-4.258795],[55.854759,-4.25868],[55.854719,-4.258325],[55.854712,-4.258264],[55.8547,-4.258158],[55.854761,-4.258137],[55.85481,-4.25812],[55.854897,-4.25809],[55.856184,-4.257633],[55.856325,-4.257586],[55.8563,-4.257352],[55.856178,-4.256667],[55.85612,-4.25643],[55.856021,-4.256065],[55.855802,-4.255248],[55.855679,-4.254788],[55.855564,-4.254354],[55.855538,-4.254255],[55.855513,-4.254161],[55.855424,-4.253833],[55.855309,-4.253393],[55.855095,-4.252587],[55.855057,-4.252445],[55.854923,-4.251933],[55.854783,-4.251439],[55.854635,-4.251019],[55.854415,-4.250591],[55.854308,-4.250218],[55.854051,-4.24956],[55.854025,-4.249493],[55.853786,-4.248813],[55.853753,-4.248718],[55.853557,-4.247997],[55.85336,-4.247277],[55.85324,-4.246838],[55.853519,-4.246541],[55.853347,-4.245801],[55.853175,-4.245061],[55.853036,-4.244885],[55.852791,-4.244213],[55.852546,-4.243542],[55.8523,-4.242871],[55.852055,-4.242199],[55.85185,-4.241639]] },
            { name: 'Anderston Quay', from: 'Hydepark Street', to: 'Broomielaw', timeslot: 't4', coords: [[55.85695,-4.27465],[55.85706,-4.27534],[55.85707,-4.27544],[55.85708,-4.27549],[55.85708,-4.27554],[55.85709,-4.27566],[55.8571,-4.27576],[55.85718,-4.27658],[55.85721,-4.27674],[55.85725,-4.27726],[55.85728,-4.27749],[55.85736,-4.2782],[55.85737,-4.27855],[55.85737,-4.27862],[55.85737,-4.27867],[55.85741,-4.27902],[55.85744,-4.27928],[55.8576,-4.28034],[55.85762,-4.28045],[55.85765,-4.28065],[55.85765,-4.28069],[55.85769,-4.28094],[55.85776,-4.28137],[55.85777,-4.28146],[55.85778,-4.28154],[55.85779,-4.28158],[55.8578,-4.28164]] },
            { name: 'Argyle Street', from: 'Elliot Street', to: 'Minerva Street', timeslot: 't1', coords: [[55.86302,-4.27839],[55.86301,-4.2786],[55.86301,-4.27865],[55.86302,-4.27872],[55.86303,-4.27878],[55.86304,-4.27883],[55.86304,-4.27884],[55.86327,-4.2796],[55.86328,-4.27965],[55.86329,-4.27972],[55.8633,-4.27978],[55.86334,-4.27995],[55.86336,-4.28001],[55.8634,-4.28018],[55.86345,-4.28033],[55.86351,-4.28051],[55.86353,-4.28058],[55.86354,-4.28062],[55.86358,-4.28071],[55.8636,-4.28077],[55.86363,-4.28082],[55.86365,-4.28087],[55.86368,-4.28092],[55.86372,-4.28098],[55.86374,-4.28105]] },
            { name: 'Blythswood Street', from: 'West George Street', to: 'Bothwell St', timeslot: 't1', coords: [[55.86145,-4.2631],[55.86149,-4.26309],[55.86163,-4.26304],[55.86183,-4.26296],[55.86201,-4.2629],[55.86219,-4.26283],[55.86237,-4.26277],[55.86263,-4.26267],[55.86281,-4.26261],[55.86299,-4.26254],[55.86307,-4.26251]] },
            { name: 'Bothwell Street', from: 'Wellington Street', to: 'Hope Street', timeslot: 't1', coords: [[55.86114,-4.26018],[55.86108,-4.25947],[55.86103,-4.25897],[55.861,-4.25864]] },
            { name: 'Broomielaw', from: 'York Street', to: 'Clyde Street', timeslot: 't4', coords: [[55.85627,-4.257],[55.85627,-4.25703],[55.85627,-4.25705],[55.85627,-4.25707],[55.85627,-4.25711],[55.85627,-4.25715],[55.85627,-4.25719],[55.85629,-4.25728],[55.8563,-4.25737],[55.8563,-4.2574],[55.85631,-4.25746],[55.85631,-4.25753],[55.85632,-4.25759],[55.85632,-4.25764],[55.85633,-4.25771],[55.85634,-4.2578],[55.85636,-4.25788],[55.85639,-4.2581],[55.85641,-4.25828],[55.85642,-4.25838],[55.85645,-4.2586],[55.85646,-4.25873],[55.85647,-4.25888],[55.85648,-4.25898],[55.8565,-4.2593],[55.85652,-4.25954],[55.85654,-4.25973],[55.85656,-4.25994],[55.85657,-4.26013],[55.85659,-4.26045],[55.8566,-4.26091],[55.85661,-4.26096],[55.85662,-4.26112],[55.85662,-4.26121],[55.85663,-4.26138],[55.85664,-4.26145],[55.85669,-4.2616],[55.85669,-4.26164],[55.85671,-4.26188],[55.85673,-4.26214],[55.85675,-4.26231],[55.85678,-4.26258],[55.85677,-4.26279],[55.85686,-4.26281],[55.85678,-4.26258],[55.85675,-4.26231],[55.85673,-4.26214],[55.85671,-4.26188],[55.85669,-4.26164],[55.85669,-4.2616],[55.85671,-4.26143],[55.85669,-4.2613],[55.85668,-4.2612],[55.85668,-4.26113],[55.85667,-4.26106],[55.85667,-4.26094],[55.85664,-4.25999],[55.85663,-4.25985],[55.85663,-4.25978],[55.85662,-4.25972],[55.85661,-4.25963],[55.85661,-4.2596],[55.85659,-4.2591],[55.85658,-4.25896],[55.85658,-4.25882],[55.85656,-4.25862],[55.85654,-4.25846],[55.85652,-4.2583],[55.8565,-4.25817],[55.85644,-4.25775],[55.85641,-4.25755],[55.8564,-4.25746],[55.85639,-4.25739],[55.85638,-4.25732],[55.85637,-4.25726],[55.85635,-4.2572],[55.85634,-4.25715],[55.85633,-4.25711],[55.85631,-4.25708],[55.8563,-4.25706],[55.85628,-4.25704],[55.85628,-4.25702],[55.85627,-4.257]] },
            { name: 'Broomielaw Bus Lane', from: 'Anderston Quay', to: 'York Street', timeslot: 't4', coords: [[55.85665,-4.27032],[55.85665,-4.27028],[55.85665,-4.27013],[55.85664,-4.26999],[55.85667,-4.26952],[55.85667,-4.26947],[55.8567,-4.2694],[55.85667,-4.2693],[55.85667,-4.26894],[55.85667,-4.26878],[55.85667,-4.26871],[55.85667,-4.26853],[55.85666,-4.26781],[55.85666,-4.2677],[55.85666,-4.26749],[55.85667,-4.26724],[55.85668,-4.26712],[55.85674,-4.26628],[55.85676,-4.26609],[55.85681,-4.26537],[55.85683,-4.26517],[55.85682,-4.26509],[55.85684,-4.26482],[55.85684,-4.26474],[55.85684,-4.26464],[55.85685,-4.26454],[55.85685,-4.26444],[55.85685,-4.26427],[55.85685,-4.26423],[55.85684,-4.26415],[55.85684,-4.2641],[55.85684,-4.26402],[55.85683,-4.26389],[55.85683,-4.26387],[55.85682,-4.26376],[55.85682,-4.26369],[55.85681,-4.26361],[55.8568,-4.2635],[55.85679,-4.2634],[55.85679,-4.26336],[55.85678,-4.26325],[55.85675,-4.26304],[55.8568,-4.26287]] },
            { name: 'Clyde Place', from: 'King George V Bridge', to: 'Glasgow Bridge', timeslot: 't4', coords: [[55.85487,-4.25978],[55.85478,-4.25876],[55.85474,-4.25851],[55.85473,-4.25839],[55.8547,-4.25821],[55.8547,-4.25818]] },
            { name: 'Clyde Street', from: 'Broomielaw', to: 'Saltmarket', timeslot: 't4', coords: [[55.85626,-4.25697],[55.85622,-4.25683],[55.85621,-4.25677],[55.85618,-4.25667],[55.85614,-4.25652],[55.85609,-4.2563],[55.85604,-4.25615],[55.85603,-4.25608],[55.85597,-4.25589],[55.85593,-4.25573],[55.85581,-4.25526],[55.8557,-4.25484],[55.85566,-4.2547],[55.85562,-4.25454],[55.85558,-4.25441],[55.85554,-4.25429],[55.85552,-4.25421],[55.85545,-4.25394],[55.85532,-4.25339],[55.85529,-4.2533],[55.85526,-4.25319],[55.85519,-4.25291],[55.85512,-4.25261],[55.85508,-4.25246],[55.85486,-4.25169],[55.8548,-4.25146],[55.85474,-4.25127],[55.85471,-4.25113],[55.85468,-4.25105],[55.85468,-4.25102],[55.85467,-4.25095],[55.85462,-4.25071],[55.8546,-4.25062],[55.85459,-4.25055],[55.85458,-4.25048],[55.85459,-4.25043],[55.85461,-4.25032],[55.85465,-4.25017],[55.85466,-4.25011],[55.85467,-4.25005],[55.85467,-4.25],[55.85468,-4.24995],[55.85468,-4.24991],[55.85469,-4.24985],[55.85475,-4.24948],[55.85477,-4.24942],[55.85478,-4.24935],[55.85483,-4.249],[55.85484,-4.24889],[55.85485,-4.24882],[55.85486,-4.24872],[55.85487,-4.24861],[55.85487,-4.24848],[55.85488,-4.24836],[55.85488,-4.24822],[55.85489,-4.24821],[55.8549,-4.24785],[55.85491,-4.24758],[55.85492,-4.24719],[55.85492,-4.24714],[55.85492,-4.24704],[55.85491,-4.24697],[55.85491,-4.24689],[55.85488,-4.2466],[55.85486,-4.24641],[55.85479,-4.24576],[55.85477,-4.2457],[55.85476,-4.24566]] },
            { name: 'Cochrane Street', from: 'Montrose Street', to: 'S Frederick Street', timeslot: 't1', coords: [[55.86021,-4.24575],[55.86041,-4.24734],[55.86045,-4.24768],[55.86057,-4.24864],[55.86063,-4.24913]] },
            { name: 'Crown Street', from: 'Ballater Street', to: 'Saltmarket', timeslot: 't4', coords: [[55.85073,-4.24907],[55.85092,-4.2489],[55.851,-4.24883],[55.85104,-4.24879],[55.85106,-4.24875],[55.85108,-4.24872],[55.85111,-4.24869],[55.85117,-4.24863],[55.85171,-4.24814],[55.85178,-4.24808],[55.85189,-4.24798],[55.85193,-4.24794],[55.85208,-4.2478],[55.85213,-4.24776],[55.85216,-4.24774],[55.85232,-4.24759],[55.85236,-4.24755],[55.85248,-4.24745],[55.85264,-4.24731],[55.85296,-4.24702],[55.85313,-4.24688],[55.85323,-4.24679]] },
            { name: 'Douglas Street', from: 'Bothwell Street', to: 'West George Street', timeslot: 't1', coords: [[55.86161,-4.26462],[55.86181,-4.26454],[55.86199,-4.26447],[55.86216,-4.2644],[55.86236,-4.26432],[55.86245,-4.26428],[55.86281,-4.26418],[55.86298,-4.26411],[55.86323,-4.26401]] },
            { name: 'Dumbreck Road', from: 'Paisley Rd West', to: 'Haggs Rd', timeslot: 't3', coords: [[55.84968,-4.31082],[55.84963,-4.31076],[55.84959,-4.3107],[55.84956,-4.31067],[55.84954,-4.31065],[55.84936,-4.31046],[55.84932,-4.31042],[55.84929,-4.31037],[55.84923,-4.31031],[55.84917,-4.31024],[55.84908,-4.31014],[55.84901,-4.31008],[55.84898,-4.31004],[55.84894,-4.31],[55.84874,-4.30981],[55.84872,-4.3098],[55.84867,-4.30975],[55.84862,-4.30971],[55.84856,-4.30966],[55.84851,-4.30962],[55.84847,-4.30959],[55.84842,-4.30956],[55.84839,-4.30954],[55.84837,-4.30952],[55.84832,-4.3095],[55.84829,-4.30948],[55.84827,-4.30947],[55.84822,-4.30944],[55.84818,-4.30943],[55.84812,-4.30941],[55.84807,-4.3094],[55.848,-4.3094],[55.84794,-4.3094],[55.8479,-4.30941],[55.84785,-4.30942],[55.8478,-4.30944],[55.84777,-4.30946],[55.84775,-4.30947],[55.8477,-4.30951],[55.84765,-4.30957],[55.8475,-4.30978],[55.84712,-4.31014],[55.8471,-4.31016],[55.84705,-4.31021],[55.84699,-4.31025],[55.84692,-4.31027],[55.84682,-4.31029],[55.84681,-4.31029],[55.84674,-4.31027],[55.84645,-4.31019],[55.84623,-4.31013],[55.84613,-4.31009],[55.84512,-4.30982],[55.84475,-4.30972],[55.84459,-4.30965],[55.84429,-4.30948],[55.84421,-4.30943],[55.84407,-4.30935],[55.84358,-4.30906],[55.84356,-4.30905],[55.84349,-4.30902],[55.84347,-4.30901],[55.84344,-4.30899],[55.84337,-4.30895],[55.84334,-4.30894],[55.84328,-4.30891],[55.84324,-4.30889],[55.8432,-4.30888],[55.84316,-4.30887],[55.84313,-4.30887],[55.84307,-4.30888],[55.84297,-4.30889],[55.84296,-4.30889],[55.84287,-4.3089],[55.84279,-4.30891],[55.84259,-4.30896],[55.84249,-4.30898],[55.84243,-4.30899],[55.8423,-4.30901],[55.84209,-4.30904],[55.84204,-4.30905],[55.84178,-4.30909],[55.84171,-4.30903],[55.84159,-4.30897],[55.84148,-4.30892],[55.84138,-4.30887],[55.84127,-4.3088],[55.84121,-4.30876],[55.84117,-4.30874],[55.84113,-4.30872],[55.8411,-4.3087],[55.84107,-4.30869],[55.84103,-4.30867],[55.84098,-4.30865],[55.84093,-4.30864],[55.84088,-4.30863],[55.84081,-4.30862],[55.84076,-4.30861],[55.8407,-4.30861],[55.84065,-4.30862],[55.84059,-4.30863],[55.84057,-4.30863],[55.84051,-4.30864],[55.84047,-4.30865],[55.84044,-4.30865],[55.84038,-4.30866],[55.84021,-4.3087],[55.84009,-4.30872],[55.83996,-4.30875],[55.83991,-4.30876],[55.83986,-4.30877],[55.83981,-4.30878],[55.83976,-4.30879],[55.83971,-4.3088],[55.83965,-4.30879],[55.83959,-4.30878],[55.83953,-4.30876],[55.83948,-4.30874],[55.8394,-4.3087],[55.83932,-4.30864],[55.83925,-4.30858],[55.83917,-4.30852],[55.8391,-4.30843],[55.839,-4.30831],[55.83895,-4.30824],[55.83891,-4.30819],[55.83889,-4.30817],[55.83885,-4.30811],[55.83883,-4.30806],[55.83878,-4.30799],[55.83874,-4.30794],[55.83871,-4.30787],[55.83859,-4.30761],[55.83856,-4.30754],[55.8385,-4.3074],[55.83844,-4.30727],[55.83839,-4.30715],[55.83834,-4.30701],[55.83818,-4.30626],[55.83801,-4.30548],[55.83799,-4.30538],[55.83796,-4.30529],[55.83794,-4.3052],[55.83791,-4.30512],[55.83788,-4.30502],[55.83785,-4.30494],[55.83782,-4.30486],[55.83778,-4.30477],[55.83775,-4.30469],[55.83772,-4.30462],[55.83768,-4.30454],[55.83765,-4.30447],[55.83761,-4.3044],[55.83756,-4.30433],[55.83739,-4.30408],[55.8373,-4.30394],[55.83721,-4.3038],[55.83714,-4.30367],[55.83706,-4.30351],[55.83698,-4.30337],[55.8369,-4.30321],[55.8369,-4.3032],[55.83684,-4.30306],[55.83679,-4.30296],[55.83676,-4.3029],[55.8367,-4.30274],[55.83663,-4.30257],[55.83657,-4.3024],[55.83645,-4.30205],[55.83639,-4.30187],[55.83634,-4.30171],[55.83627,-4.30155],[55.8362,-4.30139],[55.83613,-4.30125],[55.83594,-4.3009],[55.8357,-4.30043],[55.83562,-4.30028],[55.83555,-4.30013],[55.83548,-4.29997],[55.83541,-4.2998],[55.83535,-4.29965],[55.83529,-4.29948],[55.83523,-4.29932],[55.83517,-4.29915],[55.83511,-4.29897],[55.83506,-4.29879],[55.83505,-4.29874],[55.83502,-4.29866],[55.83498,-4.29853],[55.83495,-4.29841],[55.83492,-4.29828],[55.83487,-4.29803],[55.83486,-4.2979],[55.83486,-4.29786],[55.83479,-4.29759],[55.83477,-4.29741],[55.83475,-4.2973],[55.83472,-4.29709]] },
            { name: 'Elderslie St', from: 'William St', to: 'St Vincent Street', timeslot: 't1', coords: [[55.86219,-4.27509],[55.86232,-4.27513],[55.86256,-4.2752],[55.86297,-4.27533],[55.86306,-4.27538]] },
            { name: 'Elmbank Crescent', from: 'India Street', to: 'Newton Street', timeslot: 't1', coords: [[55.86448,-4.27058],[55.86449,-4.27043],[55.86449,-4.27031],[55.86449,-4.2703],[55.86449,-4.27023],[55.86449,-4.27006],[55.86449,-4.26987],[55.86448,-4.26976]] },
            { name: 'Finnieston Street', from: 'Argyle Street', to: 'Pointhouse Road', timeslot: 't1', coords: [[55.8634,-4.28018],[55.86333,-4.28026],[55.86332,-4.28027],[55.86324,-4.28029],[55.86316,-4.28031],[55.86306,-4.28033],[55.863,-4.28036],[55.86292,-4.28039],[55.86289,-4.28042],[55.86285,-4.28047],[55.8628,-4.28048],[55.86267,-4.28051],[55.86219,-4.28062],[55.86201,-4.28067],[55.86181,-4.28071],[55.86167,-4.28074],[55.8615,-4.28078],[55.86101,-4.28089],[55.86092,-4.28088],[55.86088,-4.28088],[55.86083,-4.28088],[55.86072,-4.2809],[55.86059,-4.28094],[55.8605,-4.28096],[55.86045,-4.28097],[55.86038,-4.28098],[55.86027,-4.28101],[55.86016,-4.28104],[55.86003,-4.28108],[55.86096,-4.2811]] },
            { name: 'Finnieston St/Clyde Arc', from: 'Govan Road', to: 'Lancefield Quay', timeslot: 't4', coords: [[55.85608,-4.28503],[55.85611,-4.285],[55.85614,-4.28495],[55.85615,-4.28492],[55.85618,-4.28484],[55.85624,-4.2847],[55.85628,-4.28461],[55.85634,-4.28448],[55.85637,-4.28444],[55.85639,-4.28441],[55.85649,-4.28419],[55.85657,-4.28401],[55.85657,-4.284],[55.85658,-4.28399],[55.8566,-4.28397],[55.85662,-4.28393],[55.85666,-4.28383],[55.85673,-4.28367],[55.85676,-4.28359],[55.85684,-4.28341],[55.85686,-4.28337],[55.85689,-4.28332],[55.85693,-4.28321],[55.85699,-4.28306],[55.85706,-4.28291],[55.85709,-4.28285],[55.85717,-4.28265],[55.85719,-4.28261],[55.85725,-4.28247],[55.85728,-4.2824],[55.85733,-4.28228],[55.85738,-4.28216],[55.85738,-4.28215],[55.85742,-4.28208],[55.85745,-4.28203],[55.85747,-4.28198],[55.8575,-4.28193],[55.85752,-4.2819],[55.85755,-4.28186],[55.8576,-4.2818],[55.85764,-4.28176],[55.85766,-4.28173],[55.8577,-4.28168],[55.85773,-4.28166],[55.85774,-4.28165],[55.8578,-4.28164]] },
            { name: 'George Street', from: 'North Frederick St', to: 'Albion Street', timeslot: 't1', coords: [[55.86142,-4.24888],[55.86124,-4.24739],[55.86112,-4.24643],[55.86101,-4.24545],[55.86088,-4.24441],[55.86087,-4.24433],[55.86078,-4.2436]] },
            { name: 'Glasgow Bridge', from: 'Clyde Street', to: 'Oxford Street', timeslot: 't4', coords: [[55.85632,-4.25759],[55.85611,-4.25766],[55.85609,-4.25767],[55.85607,-4.25767],[55.85604,-4.25768],[55.85601,-4.25769],[55.85591,-4.25773],[55.85587,-4.25773],[55.85552,-4.25787],[55.85541,-4.25791],[55.85508,-4.25803],[55.85495,-4.25808],[55.8549,-4.2581],[55.85478,-4.25814],[55.8547,-4.25818],[55.85428,-4.25833],[55.85414,-4.25838],[55.85391,-4.25846],[55.85372,-4.25853]] },
            { name: 'Gorbals Street', from: 'Ballater Street', to: 'Bridgegate', timeslot: 't4', coords: [[55.85188,-4.25294],[55.85227,-4.25259],[55.85262,-4.25227],[55.85277,-4.25212],[55.85286,-4.25204],[55.85299,-4.25193],[55.85307,-4.25184],[55.85319,-4.25172],[55.85367,-4.25127],[55.85395,-4.251],[55.85405,-4.2509],[55.85411,-4.25085],[55.85427,-4.2507],[55.85428,-4.25069],[55.85432,-4.25065],[55.85435,-4.25062],[55.85441,-4.25055],[55.85451,-4.25048],[55.85459,-4.25043],[55.85461,-4.25032],[55.85465,-4.25017],[55.85466,-4.25011],[55.85467,-4.25005],[55.85467,-4.25],[55.85468,-4.24995],[55.85468,-4.24991],[55.85469,-4.24985],[55.85475,-4.24948],[55.85477,-4.24942],[55.85478,-4.24935],[55.85483,-4.249],[55.85484,-4.24889],[55.85485,-4.24882],[55.85485,-4.24881]] },
            { name: 'Govan Road', from: 'Harvie St', to: 'Pacific Drive', timeslot: 't4', coords: [[55.85362,-4.28954],[55.85363,-4.28971],[55.85364,-4.28974],[55.85364,-4.2898],[55.85366,-4.28988],[55.85372,-4.29019],[55.85379,-4.29054],[55.85385,-4.29082],[55.85441,-4.29346],[55.8545,-4.29393],[55.85474,-4.29508],[55.85489,-4.29576],[55.85492,-4.2959],[55.85495,-4.29599],[55.85497,-4.29605],[55.85499,-4.2961],[55.85502,-4.29613],[55.85504,-4.29615],[55.8551,-4.29619],[55.85514,-4.29622],[55.85519,-4.29622]] },
            { name: 'Govan Road', from: 'Pacific Drive', to: 'Mavisbank Gardens', timeslot: 't4', coords: [[55.85677,-4.2906],[55.85678,-4.29048],[55.85678,-4.29032],[55.85678,-4.29021],[55.85678,-4.29013],[55.85678,-4.28995],[55.85678,-4.28974],[55.85677,-4.2896],[55.85676,-4.28931],[55.85674,-4.28919],[55.85673,-4.28908],[55.8567,-4.28885],[55.85664,-4.28842],[55.85664,-4.28839],[55.85658,-4.28794],[55.85654,-4.28761],[55.8565,-4.28725],[55.85648,-4.28715],[55.85647,-4.28707],[55.85646,-4.28701],[55.85643,-4.28676],[55.8564,-4.28659],[55.85637,-4.28647],[55.85637,-4.28642],[55.85634,-4.28626],[55.85631,-4.28614],[55.85625,-4.28588],[55.85622,-4.28575],[55.85621,-4.28565],[55.85614,-4.28535],[55.85605,-4.28505],[55.85602,-4.28495],[55.85598,-4.28476],[55.85594,-4.28463],[55.8559,-4.28444],[55.85585,-4.28425],[55.85582,-4.28415],[55.85579,-4.28405],[55.85576,-4.28394],[55.85574,-4.28388],[55.85566,-4.28368],[55.85556,-4.28353],[55.85556,-4.28341],[55.85554,-4.28334],[55.85555,-4.28334],[55.85555,-4.28333],[55.85555,-4.28332],[55.85556,-4.28331],[55.85556,-4.2833],[55.85556,-4.28329],[55.85557,-4.28328],[55.85557,-4.28327],[55.85557,-4.28326],[55.85557,-4.28325],[55.85557,-4.28324],[55.85557,-4.28323],[55.85557,-4.28322],[55.85557,-4.28321],[55.85557,-4.2832],[55.85557,-4.28319]] },
            { name: 'Greendyke St', from: 'Saltmarket', to: 'Turnbull St', timeslot: 't4', coords: [[55.85402,-4.24473],[55.8541,-4.24516],[55.85415,-4.24549],[55.85425,-4.24598]] },
            { name: 'Haggs Road', from: 'St Andrews Drive', to: 'Haggs Gate', timeslot: 't3', coords: [[55.83472,-4.29709],[55.83462,-4.29694],[55.83456,-4.29683],[55.83453,-4.29679],[55.8345,-4.29677],[55.83443,-4.2967],[55.8343,-4.29661],[55.83418,-4.29652],[55.83408,-4.29647],[55.83407,-4.29646],[55.834,-4.29645],[55.83392,-4.2964],[55.83387,-4.29637],[55.83377,-4.29632],[55.83375,-4.29631],[55.83371,-4.29629],[55.83363,-4.29625],[55.83352,-4.29621],[55.83346,-4.29618],[55.83343,-4.29616],[55.83333,-4.29613],[55.83325,-4.29609],[55.83309,-4.29604],[55.83305,-4.29603],[55.83294,-4.296],[55.83283,-4.29597],[55.83273,-4.29594],[55.83262,-4.29592],[55.8325,-4.2959],[55.83239,-4.29588],[55.83228,-4.29587],[55.83223,-4.29586],[55.83219,-4.29586],[55.83209,-4.29585],[55.8315,-4.29583],[55.83133,-4.29584],[55.83122,-4.29584],[55.83117,-4.29583],[55.83026,-4.29582],[55.83018,-4.29582],[55.82992,-4.29581],[55.82982,-4.29581],[55.82946,-4.29581]] },
            { name: 'Hanover St', from: 'Ingram Street', to: 'George Square', timeslot: 't1', coords: [[55.85999,-4.25061],[55.86077,-4.25031]] },
            { name: 'Hope St', from: 'Bothwell Street', to: 'West George Street', timeslot: 't1', coords: [[55.861,-4.25857],[55.86116,-4.25851],[55.86125,-4.25847],[55.86132,-4.25844],[55.86169,-4.2583],[55.86213,-4.25814],[55.86253,-4.25799]] },
            { name: 'John Street', from: 'George Street', to: 'Ingram Street', timeslot: 't1', coords: [[55.86124,-4.24739],[55.8608,-4.24755],[55.86049,-4.24767],[55.8604,-4.2477],[55.86021,-4.24776],[55.8598,-4.2479]] },
            { name: 'King George V Bridge', from: 'Kingston Street', to: 'Broomielaw', timeslot: 't4', coords: [[55.8539,-4.26008],[55.85427,-4.25994],[55.85431,-4.25993],[55.85451,-4.25987],[55.85456,-4.25985],[55.8547,-4.2598],[55.85474,-4.25979],[55.85478,-4.25979],[55.85482,-4.25978],[55.85487,-4.25978],[55.85496,-4.25978],[55.85504,-4.25978],[55.85508,-4.25977],[55.85514,-4.25977],[55.85537,-4.25977],[55.85567,-4.25976],[55.85571,-4.25976],[55.85573,-4.25976],[55.85588,-4.25976],[55.85605,-4.25975],[55.85621,-4.25975],[55.85624,-4.25975],[55.85626,-4.25974],[55.85642,-4.25973],[55.85643,-4.25973],[55.85654,-4.25973],[55.85659,-4.25972]] },
            { name: 'Lancefield Quay', from: 'Finnieston Street', to: 'Hydepark Street', timeslot: 't4', coords: [[55.85695,-4.27465],[55.85706,-4.27534],[55.85707,-4.27544],[55.85708,-4.27549],[55.85708,-4.27554],[55.85709,-4.27566],[55.8571,-4.27576],[55.85718,-4.27658],[55.85721,-4.27674],[55.85725,-4.27726],[55.85728,-4.27749],[55.85736,-4.2782],[55.85737,-4.27855],[55.85737,-4.27862],[55.85737,-4.27867],[55.85741,-4.27902],[55.85744,-4.27928],[55.8576,-4.28034],[55.85762,-4.28045],[55.85765,-4.28065],[55.85765,-4.28069],[55.85769,-4.28094],[55.85776,-4.28137],[55.85777,-4.28146],[55.85778,-4.28154],[55.85779,-4.28158],[55.8578,-4.28164]] },
            { name: 'Lorne Street', from: 'Paisley Road West', to: 'Govan Road', timeslot: 't4', coords: [[55.85396,-4.28841],[55.85393,-4.28836],[55.85391,-4.28832],[55.85389,-4.2883],[55.85386,-4.28829],[55.8538,-4.28828],[55.85321,-4.28839],[55.85263,-4.28848],[55.8525,-4.2885],[55.85247,-4.2885],[55.85244,-4.2885],[55.85233,-4.28849]] },
            { name: 'Montrose Street', from: 'Ingram Street', to: 'George Street', timeslot: 't1', coords: [[55.86101,-4.24545],[55.86057,-4.24562],[55.86056,-4.24562],[55.86021,-4.24575],[55.85957,-4.24597]] },
            { name: 'Montrose Street', from: 'Richmond St', to: 'George Street', timeslot: 't1', coords: [[55.86157,-4.24525],[55.86137,-4.24532],[55.8612,-4.24538],[55.86101,-4.24545]] },
            { name: 'Mosspark Boulevard', from: 'Dumbreck Road', to: 'Auldbar Rd', timeslot: 't3', coords: [[55.84177,-4.32165],[55.84172,-4.32139],[55.84161,-4.32078],[55.84151,-4.32022],[55.84149,-4.32009],[55.84147,-4.31995],[55.84142,-4.31967],[55.84139,-4.31948],[55.84135,-4.31917],[55.8413,-4.31885],[55.84125,-4.31848],[55.84122,-4.31827],[55.84119,-4.31803],[55.84117,-4.31791],[55.84112,-4.31749],[55.84109,-4.31717],[55.84104,-4.31664],[55.84101,-4.31625],[55.84099,-4.31588],[55.84097,-4.31548],[55.84096,-4.31516],[55.84095,-4.31511],[55.84094,-4.31472],[55.84094,-4.3143],[55.84094,-4.31391],[55.84095,-4.31364],[55.84095,-4.3135],[55.84096,-4.31316],[55.84097,-4.31281],[55.84098,-4.31258],[55.841,-4.31232],[55.84101,-4.3121],[55.84103,-4.31181],[55.84103,-4.31178],[55.84105,-4.31156],[55.84106,-4.31142],[55.84107,-4.31131],[55.84112,-4.31086],[55.84114,-4.31067],[55.84116,-4.31049],[55.84118,-4.31033],[55.84129,-4.30995],[55.84131,-4.30985],[55.84133,-4.30978],[55.84133,-4.30975],[55.84137,-4.30956],[55.84141,-4.30931],[55.84145,-4.30909],[55.84146,-4.30901]] },
            { name: 'Newton Street', from: 'Bath Street', to: 'St Vincent Street', timeslot: 't1', coords: [[55.86548,-4.27086],[55.86542,-4.27085],[55.86536,-4.27083],[55.86528,-4.27081],[55.86511,-4.27076],[55.86485,-4.2707],[55.86467,-4.27065],[55.86448,-4.27058],[55.86418,-4.2705],[55.86408,-4.27047],[55.86403,-4.27045],[55.86393,-4.27042],[55.86346,-4.27028],[55.86342,-4.27026],[55.86307,-4.27016]] },
            { name: 'Paisley Road', from: 'Seaward Street', to: 'Govan Road', timeslot: 't2', coords: [[55.8537,-4.27721],[55.8537,-4.27742],[55.8537,-4.27752],[55.8537,-4.27791],[55.85371,-4.27813],[55.85372,-4.27832],[55.85372,-4.27849],[55.85371,-4.27858],[55.8537,-4.27875]] },
            { name: 'Paisley Road West', from: 'Govan Road', to: 'Dumbreck Rd', timeslot: 't2', coords: [[55.84982,-4.31113],[55.84983,-4.31106],[55.84984,-4.31099],[55.84986,-4.31088],[55.84988,-4.31078],[55.84994,-4.31047],[55.85008,-4.30966],[55.85011,-4.30948],[55.85014,-4.30931],[55.85017,-4.30912],[55.85018,-4.30902],[55.8502,-4.30883],[55.85021,-4.30873],[55.85036,-4.30715],[55.8504,-4.30668],[55.85048,-4.30589],[55.85054,-4.30519],[55.85062,-4.3044],[55.85065,-4.30397],[55.85071,-4.30339],[55.85076,-4.30279],[55.85081,-4.30224],[55.85083,-4.30199],[55.85085,-4.30187],[55.85085,-4.30186],[55.85088,-4.30167],[55.85088,-4.30163],[55.8509,-4.30149],[55.85092,-4.30133],[55.85098,-4.30098],[55.85104,-4.30059],[55.8511,-4.30019],[55.85115,-4.29985],[55.85119,-4.2996],[55.85118,-4.29946],[55.85119,-4.29937],[55.85126,-4.29894],[55.85134,-4.29843],[55.85136,-4.29835],[55.85138,-4.29819],[55.85142,-4.29797],[55.85146,-4.29771],[55.85149,-4.29751],[55.8515,-4.29741],[55.85153,-4.29722],[55.85155,-4.29711],[55.8516,-4.29675],[55.85163,-4.29648],[55.8517,-4.29596],[55.85171,-4.29583],[55.85176,-4.29531],[55.85177,-4.29517],[55.85181,-4.29469],[55.85184,-4.29442],[55.85186,-4.29416],[55.85188,-4.293999],[55.85189,-4.29379],[55.85194,-4.29322],[55.85197,-4.29292],[55.85199,-4.29277],[55.852,-4.29254],[55.85209,-4.29142],[55.85213,-4.29086],[55.85221,-4.28991],[55.85223,-4.28975],[55.85227,-4.28927],[55.8523,-4.28895],[55.85233,-4.28849],[55.85239,-4.28789],[55.85242,-4.28757],[55.85245,-4.28731],[55.85247,-4.28713],[55.85257,-4.2863],[55.85261,-4.28594],[55.85262,-4.28581],[55.85271,-4.2852],[55.85273,-4.28509],[55.85289,-4.28419],[55.85302,-4.28354],[55.85307,-4.2833],[55.8531,-4.28313],[55.85313,-4.28293],[55.85316,-4.28278],[55.85319,-4.28259],[55.85327,-4.2821],[55.85334,-4.28166],[55.85336,-4.28151],[55.85338,-4.28141],[55.85339,-4.28133],[55.8534,-4.28124],[55.8535,-4.28061],[55.85353,-4.28039],[55.85354,-4.28027],[55.85357,-4.28009],[55.85361,-4.27981],[55.85366,-4.27932],[55.85368,-4.27902],[55.8537,-4.27882]] },
            { name: 'Pitt Street', from: 'Bothwell Street', to: 'West George Street', timeslot: 't1', coords: [[55.86178,-4.26603],[55.86196,-4.26597],[55.86214,-4.2659],[55.86232,-4.26583],[55.86249,-4.26577],[55.86255,-4.26575],[55.86272,-4.26569],[55.86298,-4.2656],[55.86311,-4.26555],[55.86316,-4.26553],[55.86341,-4.26544]] },
            { name: 'Queen St', from: 'Ingram Street', to: 'St Vincent Pl', timeslot: 't1', coords: [[55.86011,-4.25185],[55.8602,-4.25181],[55.86029,-4.25178],[55.86045,-4.25173],[55.86091,-4.25156]] },
            { name: 'Renfield St', from: 'Gordon St', to: 'West George Street', timeslot: 't1', coords: [[55.86232,-4.25637],[55.8621,-4.25644],[55.86195,-4.25648],[55.86179,-4.25654],[55.86148,-4.25669],[55.86142,-4.25669],[55.86119,-4.25678],[55.86104,-4.25684],[55.86096,-4.25687],[55.8607,-4.25695],[55.86064,-4.25695],[55.86056,-4.25695]] },
            { name: 'Saltmarket', from: 'Clyde Street', to: 'St Andrews St', timeslot: 't4', coords: [[55.85323,-4.24679],[55.85356,-4.24651],[55.85402,-4.24613],[55.8541,-4.24606],[55.85415,-4.24604],[55.8542,-4.24601],[55.85425,-4.24598],[55.85431,-4.24594],[55.85437,-4.2459],[55.85475,-4.24563],[55.85515,-4.24533],[55.85519,-4.24529],[55.85524,-4.24525],[55.85529,-4.24521],[55.85533,-4.24517],[55.85543,-4.24508],[55.85562,-4.24488],[55.85574,-4.24476],[55.85577,-4.24472],[55.8558,-4.24469]] },
            { name: 'St Vincent Place', from: 'Queen Street', to: 'Buchanan St', timeslot: 't1', coords: [[55.86091,-4.25156],[55.86097,-4.2522],[55.86101,-4.25254],[55.86116,-4.25386]] },
            { name: 'St Vincent Street', from: 'Buchanan St', to: 'Elliot Street', timeslot: 't1', coords: [[55.86116,-4.25386],[55.86121,-4.25426],[55.86124,-4.25456],[55.86125,-4.25465],[55.86132,-4.25523],[55.86143,-4.25617],[55.86148,-4.25669],[55.86169,-4.2583],[55.86172,-4.25864],[55.86186,-4.2599],[55.86203,-4.26139],[55.86215,-4.26244],[55.86219,-4.26283],[55.86223,-4.26316],[55.86236,-4.26432],[55.86241,-4.26462],[55.86241,-4.26463],[55.86247,-4.2651],[55.86254,-4.26573],[55.86255,-4.26575],[55.86258,-4.26606],[55.86263,-4.26648],[55.86274,-4.26741],[55.86284,-4.26832],[55.86285,-4.26841],[55.86288,-4.26872],[55.86286,-4.26889],[55.86286,-4.26896],[55.86286,-4.269],[55.86286,-4.26922],[55.86287,-4.2693],[55.86288,-4.26969],[55.86292,-4.26988],[55.86293,-4.26995],[55.86293,-4.27011],[55.86299,-4.27063],[55.863,-4.27072],[55.86301,-4.27077],[55.86301,-4.27082],[55.86302,-4.27097],[55.86303,-4.27106],[55.86304,-4.27117],[55.86304,-4.27128],[55.86304,-4.27132],[55.86306,-4.27153],[55.86308,-4.27176],[55.86309,-4.27188],[55.86313,-4.27198],[55.86313,-4.2723],[55.86313,-4.27241],[55.86312,-4.27269],[55.86312,-4.27305],[55.8631,-4.27386],[55.8631,-4.27398],[55.8631,-4.27401],[55.86309,-4.27425],[55.86306,-4.27523],[55.86306,-4.27538],[55.86304,-4.27673],[55.86302,-4.27799],[55.86302,-4.27813],[55.86302,-4.27839]] },
            { name: 'Scotland Street', from: 'West Street', to: 'Seaward Street', timeslot: 't1', coords: [[55.84967,-4.26618],[55.84966,-4.2662],[55.84966,-4.26623],[55.84966,-4.26627],[55.84971,-4.26692],[55.84976,-4.26736],[55.84978,-4.26745],[55.84982,-4.2679],[55.84986,-4.26818],[55.84989,-4.26851],[55.84992,-4.26875],[55.84992,-4.26877],[55.84992,-4.26882],[55.84993,-4.26888],[55.84993,-4.269],[55.84993,-4.26938],[55.84992,-4.2695],[55.84989,-4.26962],[55.84989,-4.26964],[55.84988,-4.26974],[55.84987,-4.27015],[55.84987,-4.27043],[55.84986,-4.27062],[55.8499,-4.27104],[55.8499,-4.27151],[55.84989,-4.27179],[55.84989,-4.27254],[55.84988,-4.27321],[55.84986,-4.27464],[55.84985,-4.27543],[55.84982,-4.27556],[55.8498,-4.2758],[55.84981,-4.2759],[55.84982,-4.27595],[55.84982,-4.276],[55.8498,-4.2762],[55.84979,-4.2764],[55.84979,-4.27648],[55.84978,-4.27656],[55.84978,-4.27663],[55.84979,-4.27672],[55.84979,-4.27673],[55.8498,-4.2768],[55.8498,-4.27692],[55.84981,-4.27736],[55.84979,-4.2775],[55.84978,-4.27765],[55.84976,-4.27772]] },
            { name: 'Seaward Street', from: 'M74/M8 Roundabout', to: 'Paisley Road West', timeslot: 't1', coords: [[55.84977,-4.27772],[55.84976,-4.27776],[55.84976,-4.27783],[55.84976,-4.27789],[55.84977,-4.27801],[55.84982,-4.27801],[55.85033,-4.27799],[55.85039,-4.27798],[55.85043,-4.27796],[55.85046,-4.27794],[55.85051,-4.2779],[55.85055,-4.27783],[55.85058,-4.27778],[55.85061,-4.27773],[55.85064,-4.27768],[55.85068,-4.27759],[55.85071,-4.27758],[55.85074,-4.27757],[55.85076,-4.27756],[55.85079,-4.27756],[55.85108,-4.27753],[55.85174,-4.27745],[55.85234,-4.2774],[55.8527,-4.27736],[55.85315,-4.27725],[55.8533,-4.27726],[55.85351,-4.27723],[55.8537,-4.27721],[55.85373,-4.27721]] },
            { name: 'Shields Rd', from: 'St Andrews Drive', to: 'Scotland Street', timeslot: 't1', coords: [[55.84591,-4.27516],[55.84611,-4.27508],[55.84654,-4.27489],[55.8466,-4.27486],[55.84667,-4.27483],[55.84673,-4.27482],[55.84677,-4.27481],[55.8469,-4.27478],[55.84699,-4.27477],[55.84707,-4.27475],[55.84713,-4.27479],[55.84764,-4.27502],[55.84787,-4.27512],[55.84799,-4.27518],[55.84816,-4.27527],[55.84832,-4.2754],[55.84881,-4.27582],[55.84931,-4.27623],[55.84959,-4.27648],[55.84979,-4.27648]] },
            { name: 'South Frederick Street', from: 'Ingram Street', to: 'Cochrane Street', timeslot: 't1', coords: [[55.86063,-4.24913],[55.86026,-4.24926],[55.85988,-4.24939]] },
            { name: 'Wellington St', from: 'Bothwell Street', to: 'West George Street', timeslot: 't1', coords: [[55.8627,-4.2596],[55.86228,-4.25975],[55.86204,-4.25984],[55.86186,-4.2599],[55.86167,-4.25997],[55.86158,-4.26],[55.8615,-4.26004],[55.86132,-4.26011],[55.86114,-4.26018]] },
            { name: 'West Street', from: 'Cook Street', to: 'Scotland Street', timeslot: 't1', coords: [[55.84967,-4.26618],[55.84967,-4.26617],[55.84967,-4.26616],[55.84968,-4.26616],[55.84968,-4.26615],[55.84969,-4.26614],[55.85001,-4.266],[55.85053,-4.26578],[55.85111,-4.26558],[55.85146,-4.26545]] },
            { name: 'West Campbell Street', from: 'Bothwell Street', to: 'West George Street', timeslot: 't1', coords: [[55.8613,-4.26159],[55.86149,-4.26153],[55.86166,-4.26147],[55.86185,-4.26141],[55.86203,-4.26139],[55.86246,-4.26123],[55.86271,-4.26114],[55.86289,-4.26107]] },
            { name: 'West Nile Street', from: 'Gordon Street', to: 'West George Street', timeslot: 't1', coords: [[55.86047,-4.25556],[55.8606,-4.2555],[55.8609,-4.25539],[55.86119,-4.25528],[55.86132,-4.25523],[55.86165,-4.25512],[55.86176,-4.25508],[55.86179,-4.25507],[55.86192,-4.25502],[55.86214,-4.25494]] },
            { name: 'Stobcross St/Clydeside Expressway (Wesbound lane 1 only)', from: 'North Street', to: 'Pointhouse Rd', timeslot: 't1', coords: [[55.85945,-4.27052],[55.85956,-4.27092],[55.85967,-4.2714],[55.85968,-4.27142],[55.85975,-4.27171],[55.85988,-4.27228],[55.85998,-4.2727],[55.86002,-4.27293],[55.86005,-4.27309],[55.86008,-4.27329],[55.86009,-4.27341],[55.86011,-4.27352],[55.86012,-4.27366],[55.86012,-4.27367],[55.86013,-4.27378],[55.86014,-4.27391],[55.86015,-4.27403],[55.86016,-4.27416],[55.86016,-4.27434],[55.86017,-4.27439],[55.86017,-4.27537],[55.86017,-4.2754],[55.86017,-4.27569],[55.86017,-4.27624],[55.86017,-4.27665],[55.86017,-4.27681],[55.86017,-4.27691],[55.86016,-4.27707],[55.86014,-4.27746],[55.86012,-4.27768],[55.8601,-4.27799],[55.86008,-4.27809],[55.86006,-4.27815],[55.86005,-4.27822],[55.86004,-4.2783],[55.86003,-4.27835],[55.86003,-4.2785],[55.86002,-4.27869],[55.86003,-4.2789],[55.86003,-4.27897],[55.86005,-4.27922],[55.86005,-4.27932],[55.86012,-4.28007],[55.86013,-4.28012],[55.86015,-4.28035],[55.86017,-4.2805],[55.86019,-4.28066],[55.8602,-4.28069],[55.86021,-4.28077],[55.86021,-4.28082],[55.86021,-4.28088],[55.8602,-4.28093],[55.86019,-4.28097],[55.86018,-4.281],[55.86016,-4.28104]] },
            { name: 'M77 Jnct 1. northbound', from: 'N/A', to: 'N/A', timeslot: 't1', coords: [] },
            { name: 'M8', from: 'West Street', to: 'Clydeside Expressway', timeslot: 't1', coords: [[55.85146,-4.26545],[55.85148,-4.26558],[55.85149,-4.26566],[55.85149,-4.26567],[55.85152,-4.26575],[55.85156,-4.26591],[55.85161,-4.26606],[55.85162,-4.26608],[55.85166,-4.26623],[55.85169,-4.26634],[55.8517,-4.26639],[55.85171,-4.26642],[55.85172,-4.2665],[55.85173,-4.26657],[55.85173,-4.2666],[55.85173,-4.26663],[55.85174,-4.26666],[55.85175,-4.26686],[55.85176,-4.26711],[55.85178,-4.26736],[55.85179,-4.2675],[55.85181,-4.26779],[55.85183,-4.26822],[55.85185,-4.26862],[55.85187,-4.26879],[55.85188,-4.26894],[55.85189,-4.26901],[55.85191,-4.26909],[55.85193,-4.26921],[55.85195,-4.26935],[55.85199,-4.26952],[55.85202,-4.26965],[55.85206,-4.26981],[55.8521,-4.26993],[55.85214,-4.27004],[55.85218,-4.27013],[55.85223,-4.27025],[55.85229,-4.27036],[55.85231,-4.27039],[55.85236,-4.27046],[55.85243,-4.27055],[55.85248,-4.2706],[55.85252,-4.27064],[55.85257,-4.27069],[55.85262,-4.27074],[55.85267,-4.27079],[55.85274,-4.27084],[55.85281,-4.27088],[55.85288,-4.27092],[55.85295,-4.27095],[55.85298,-4.27096],[55.85304,-4.27098],[55.85314,-4.27101],[55.85322,-4.27102],[55.85326,-4.27102],[55.85329,-4.27101],[55.85331,-4.271],[55.85337,-4.27099],[55.85342,-4.27098],[55.85346,-4.27096],[55.85352,-4.27093],[55.85375,-4.27082],[55.85378,-4.27081],[55.85386,-4.27077],[55.85393,-4.27074],[55.85398,-4.27072],[55.85409,-4.27068],[55.85416,-4.27065],[55.85424,-4.27062],[55.85431,-4.2706],[55.85439,-4.27057],[55.85447,-4.27056],[55.85451,-4.27055],[55.85453,-4.27054],[55.85458,-4.27054],[55.8546,-4.27054],[55.85469,-4.27053],[55.85495,-4.27051],[55.85528,-4.2705],[55.85532,-4.2705],[55.85549,-4.2705],[55.85566,-4.2705],[55.85588,-4.27049],[55.85589,-4.27049],[55.8559,-4.27049],[55.85594,-4.27049],[55.85617,-4.27047],[55.85641,-4.27045],[55.85664,-4.27045],[55.85691,-4.27044],[55.857,-4.27044],[55.85709,-4.27043],[55.85727,-4.27043],[55.8575,-4.27042],[55.85756,-4.27042],[55.85762,-4.27042],[55.85774,-4.27041],[55.8579,-4.27041],[55.85803,-4.27041],[55.85809,-4.27043],[55.85815,-4.27044],[55.85821,-4.27044],[55.8583,-4.27045],[55.8584,-4.27046],[55.8586,-4.27049],[55.85868,-4.2705],[55.85884,-4.27052],[55.85889,-4.27053],[55.85893,-4.27055],[55.85898,-4.27057],[55.85906,-4.27062],[55.85912,-4.27066],[55.85917,-4.27071],[55.85922,-4.27076],[55.85926,-4.27082],[55.85931,-4.27087],[55.85935,-4.27093],[55.85936,-4.27095],[55.85939,-4.271],[55.85943,-4.27108],[55.85947,-4.27115],[55.8595,-4.27123],[55.85954,-4.27133],[55.85957,-4.27144],[55.85958,-4.27146],[55.85961,-4.27157],[55.85967,-4.27174],[55.85968,-4.2718],[55.85983,-4.27232],[55.85988,-4.27248],[55.85991,-4.27257],[55.85998,-4.2727]] }
        ];

        // --- 3. Separate and Process Data ---
        const runRouteData = allRoadData.find(road => road.name === 'Great Scottish Run 2025 Route');
        const roadClosuresData = allRoadData.filter(road => road.name !== 'Great Scottish Run 2025 Route');

        // --- 4. Render the Main Run Route ---
        let runRouteLayer; // To hold the main route layer for toggling
        if (runRouteData && runRouteData.coords && runRouteData.coords.length > 0) {
            runRouteLayer = L.polyline(runRouteData.coords, { 
                color: runRouteData.color || '#800080',
                weight: 6,
                opacity: 0.9,
            }).addTo(map).bindPopup(`<b>${runRouteData.name}</b>`);
        }

        // --- 5. Initial Render of Road Closures ---
        const tableBody = document.querySelector('#roads-table tbody');
        
        roadClosuresData.forEach(closure => {
            // Store original color
            closure.originalColor = timeslotConfig[closure.timeslot]?.color || '#808080';

            // A. Create Map Layer (Polyline)
            if (closure.coords && closure.coords.length > 0) {
                const polyline = L.polyline(closure.coords, { 
                    color: closure.originalColor,
                    weight: 5,
                    opacity: 0.85,
                }).bindPopup(`<b>${closure.name}</b><br>${timeslotConfig[closure.timeslot]?.label || ''}`);
                
                closure.layer = polyline;
            }

            // B. Create Table Row with Color Swatch
            const row = tableBody.insertRow();
            
            // Color the entire row with a semi-transparent version of the timeslot color
            if (closure.originalColor) {
                row.style.backgroundColor = closure.originalColor + '33'; // Append hex for ~20% opacity
            }

            const nameCell = row.insertCell();
            nameCell.textContent = closure.name;
            row.insertCell().textContent = closure.from;
            row.insertCell().textContent = closure.to;
            closure.row = row;

            // C. Add Interaction Events
            row.addEventListener('mouseover', () => {
                if (closure.layer && map.hasLayer(closure.layer)) {
                    closure.layer.setStyle({ weight: 8, opacity: 1 });
                    closure.layer.bringToFront();
                }
            });

            row.addEventListener('mouseout', () => {
                if (closure.layer && map.hasLayer(closure.layer)) {
                    closure.layer.setStyle({ weight: 5, opacity: 0.85 });
                }
            });
            
            row.addEventListener('click', () => {
                if (closure.layer && map.hasLayer(closure.layer)) {
                    map.fitBounds(closure.layer.getBounds().pad(0.1));
                    closure.layer.openPopup();
                }
            });
        });

        // --- 6. Filtering Logic ---
        const timeslotButtons = document.querySelectorAll('.timeslot-btn[data-timeslot]');

        function showTimeSlot(selectedSlot) {
            roadClosuresData.forEach(closure => {
                const isAllView = selectedSlot === 'all';
                const matchesSlot = closure.timeslot === selectedSlot;
                const shouldShow = isAllView || matchesSlot;
                
                // Toggle Map Layer visibility
                if (closure.layer) {
                    if (shouldShow) {
                        if (!map.hasLayer(closure.layer)) {
                            map.addLayer(closure.layer);
                        }
                        // Always show its original color
                        closure.layer.setStyle({ color: closure.originalColor });
                    } else if (map.hasLayer(closure.layer)) {
                        map.removeLayer(closure.layer);
                    }
                }
                
                // Toggle Table Row visibility
                if (closure.row) {
                    closure.row.style.display = shouldShow ? '' : 'none';
                }
            });
            
            // Update active button style
            timeslotButtons.forEach(btn => {
                btn.classList.toggle('active', btn.dataset.timeslot === selectedSlot);
            });
        }

        timeslotButtons.forEach(button => {
            button.addEventListener('click', () => {
                showTimeSlot(button.dataset.timeslot);
            });
        });

        // --- 7. Toggle Cycle Route Logic ---
        const toggleRouteButton = document.getElementById('toggle-route-btn');
        toggleRouteButton.addEventListener('click', () => {
            if (runRouteLayer) { // Check if the layer exists
                if (map.hasLayer(runRouteLayer)) {
                    map.removeLayer(runRouteLayer);
                    toggleRouteButton.classList.remove('active');
                } else {
                    map.addLayer(runRouteLayer);
                    toggleRouteButton.classList.add('active');
                }
            }
        });

        // --- 8. Mobile Table Toggle Logic ---
        const toggleTableButton = document.getElementById('toggle-table-btn');
        const tableContainer = document.getElementById('table-container');

        toggleTableButton.addEventListener('click', () => {
            tableContainer.classList.toggle('shown');
        });


        // --- 9. Initial View ---
        // Show all closures with their original colors
        showTimeSlot('all');

    </script>
</body>
</html>


